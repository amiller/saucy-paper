
\begin{bbox}[title={Algorithm $\msf{Poll}$}]

\begin{renumerate}

  	\item $\msf{idealdelay} \minuseq 1$
  	
  	\item If $\msf{idealdelay} = 0$:
  	 
  		\quad \Send $(\texttt{delay}, 1 \token) \rightarrow \mathcal{W}_{sync}$

  		\quad $\msf{idealdelay} = 1$

  	\item \Send $(\texttt{poll},) \rightarrow \mathcal{W}_{sync}'$
 
  	\item If output $m$ from party $P_i'$:

			\quad Call $\msf{SimGetLeaks}$

			\quad Call \msf{SimPartyOutput}(m, $P_i'$)
		
		Else if $m$ from $\mathcal{A}'$:

			\quad Send $m \rightarrow \mathcal{Z}$

\end{renumerate}

\end{bbox}
